<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teste Zoho</title>

    <link rel="icon" type="image/png" href="assets/images/hero/logo_css_sprites.png">

    <!-- CSS -->
    <link rel="stylesheet" href="assets/css/global.css">
</head>
<body>

    <!-- Onde os componentes serão carregados -->
     <div id="loader-wrapper">
        <div class="spinner"></div> 
        <p>Carregando conteúdo...</p>
    </div>
    <main id="app"></main>

    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <!-- Scripts do projeto em caso global -->

    <!-- Importador dos componentes HTML -->
    <script>
        $(function () {
            const $app = $("#app");
            const componentFiles = [
                "components/hero.html",
                "components/testimonial.html",
                "components/features.html",
                "components/advantages.html",
                "components/tabs.html",
                "components/footer.html"
            ];
            const totalComponents = componentFiles.length;
            let loadedComponents = 0;

            function checkLoadingComplete() {
                loadedComponents++;
                if (loadedComponents === totalComponents) {
                    // 1. Esconde o loader (com fade)
                    $('#loader-wrapper').addClass('loader-hidden'); 
                    
                    // 2. Opcional: Remove o loader do DOM após a transição
                    setTimeout(function() {
                        $('#loader-wrapper').remove();
                    }, 500); // 500ms é um pouco mais longo que a transição CSS
                }
            }

            componentFiles.forEach(function(file) {
                // Adiciona o componente e chama checkLoadingComplete no callback de sucesso
                $app.append($("<div>").load(file, checkLoadingComplete));
            });

        });
    </script>

</body>
</html>
